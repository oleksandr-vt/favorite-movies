import{I as v,r as e}from"./entry.4dc4166c.js";import{u as d}from"./helpers.cd1e74eb.js";const h="https://api.themoviedb.org/3/search/movie?api_key=dfdcb281c851cc35c30f83224b622a8f",b=v("searchStore",()=>{const a=e([]),o=e(!1),r=e(!1),u=e(""),i=e(!1),n=e(0),f=e(0);return{movies:a,isLoading:o,isError:r,searchStr:u,isNewSearchStr:i,totalPages:n,totalResults:f,getMovies:async({str:t,page:s=1,isNewStr:l=!1})=>{if(t.length<2)return;l&&(i.value=!0),r.value=!1,o.value=!0,u.value=t;const c=await(await fetch(`${h}&query=${t}&page=${s}`)).json();a.value=c.results,n.value=c.total_pages,f.value=c.total_results,o.value=!1,i.value=!1,a.value.length<1&&(r.value=!0)},addToFavorites:t=>{const s=d();s.movies.find(l=>l.id===t.id)||s.movies.push({...t,isWatched:!1})}}});export{b as u};
